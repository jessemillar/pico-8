pico-8 cartridge // http://www.pico-8.com
version 8
__lua__

t=0

function draw_encoded(x, y, image, transparent)
	local transparent=transparent or 0 -- default to black transparency

	for y_index=0,image[2]-1 do
		for x_index=0,image[1]-1 do
			local color=("0x"..sub(image[y_index+3], x_index+1, x_index+1))+0

			if color!=transparent then
				pset(x_index+x, y_index+y, color)
			end
		end
	end
end

function _init()
	test={
	120,
	46,
	"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
	"000000000500000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000050000",
	"00001655dd100000000000000000000000000000000000000000000015d1564100000000000000000000000000000000000000000000001655dd1000",
	"0000057f79999999999999999999999999999999999999900499999994f77f999999999999999999009999999999999999999999999999557f799999",
	"000005f766cccccccccccd9dcccccccccccccc99cccccd9909dcccc999e776cccccccccd9dcccc94019dcccc99ccccccccccc99cccccd995f766ccd9",
	"000004767ccccccccccccd9dcccccccccccccc9dccccccc949ccccc99dc767cccccccccd9ccccc92049ccccd9dccccccccccc94ccccccc49767ccc44",
	"0000066cc6ccccccccccc44ccccccccccccccd4dcccccccd44ccccd44c6ccc6cccccccc44ccccd4004dccccd4cccccccccccd4dcccccccdf9cc6cc42",
	"000004dcccccccccccccc4dcccccccccccccc44ccccccccc4dccccd4ccccccccccccccc4dccccd4004dcccc44cccccccccccd4ccccccccc4dccccd40",
	"000024cccccdddddccccd4dccccdddddddddd4dccccccccc4dcccc44cccccddddddddd44dcccc42024ccccc44dddcccccddd44ccccccccc4dccccd40",
	"00004dccccd4444dccccd4cccccdddddddddd4dccccccccc4ccccc4dccccd42444444444ccccc4104dccccd4224dccccd4244dccccccccc4ccccc420",
	"00004dcccccccccccccc44ccccccccccccccd4ccccccccccdccccd4dcccc42024dddd44dccccd4004dcccc42004dcccc42004cccccdcccc4ccccd400",
	"00014ccccccccccccccd4dcccccccccccccc44ccccdcccccdcccc44ccccc41024ccccd4dcccc42014ccccc41024ccccc41024ccccddccccdccccd200",
	"000223333333333333d445333333333333354533335533355333d4233335400453333245333d41022333354002233335400253333d53333533334200",
	"000225555555555555222555552222222222255555255555555552555552222255555225555522222555522222555552222255555225555555552000",
	"0002ddddd222222222225ddddd42222222222ddddd2ddddddddd22dddddd222dddddd2dddddd222dddddd22222ddddd22222ddddd25dddddddd52000",
	"00226666d22222221002d666666666666662d6666d2d66666666226666666666666622d6666666666666d2d666666666662d6666d2d6666666622000",
	"002d7777d20000000002d7777777777777d2677772267777777d22777777777777762267777777777777d26777777777762677772267777777d20000",
	"00267777220000000002d77777777777776677776226777777d2226777777777776222677777777777767677777777777d277777226777777d210000",
	"012666662100000000012d666666666666677666d2266666d221022d666666666d22022d666666666d22d77666666666622666662266666d22100000",
	"0222222220000000000012222222222222667d2222222222210000222222222222100012222222222225666d22222222222222222222222220000000",
	"000000000000000000000000000000000d515d500000000000000000000000000000000000000000000dd15d50000000000000000000000000000000",
	"000000000000000000000000000000000100000000000000000000000000000000000000000000000001000000000000000000000000000000000000",
	"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
	"000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000",
	"000000000000011111111111111111000011100111111000111110000001111100111110000011110111111111111111111111000111111111100000",
	"000000000001111111122221111111100111111111111101112111001111111111111111000111111111111111111222222111111111122221100000",
	"000000000011112488888888118841111112111148821101188811111112222211128411101118811124222441128888888841111128888882100000",
	"000000000011888888888888828882111128211288881111288811112888888881128841101148811288888884888888888888214888888882100000",
	"000000000011888888422288888881111288211488881111288811288888888882128881111188411488888424888882222288888888884441100000",
	"000000000011288884112888888841111488112888882111888212888888444441128821111488211888821111288821112888888842111111100000",
	"000000000011128881148888888821112888114888884112888128888421111111188811111884114888111111288811148888882111111111000000",
	"000000000001188844888884888411114884118881888114884288882111111111488211124882118888221111888424888888842221111100000000",
	"000000000011288888888412888211128882128821488218882888821110001118888248888881148888882112888888888888888888821110000000",
	"000000001111888888842118888111188841148811288828884888211100011148888888888821188888884118888888882188888888884110000000",
	"000000011128888884211118882111888811188411188888888888111000011288888888888811288822111128888884884112244888888110000000",
	"000000011488888421111128882114888211488111128888848882110000011288888221288211888211111188882111888111111128888110000000",
	"000000011188882111101128881128884112884111118888248882110000011488211111488112888112224288821111888111112888884110000000",
	"000000011188841110001128881288881118881110114888148882111111112882111111882118888888888488211111288212488888821110000000",
	"000000011288411100001128884888811128841100114888148888221111114881110112881128888888888884111111188888888884111100000000",
	"000000011888111000000118888888111148821100118882118888888841118841100118821148888422112882110112888888884211111000000000",
	"000000112882110000000111244421111124821100118881111888888841112811100118811128821111112841100111488884211111100000000000",
	"000000114881110000000011111111100111111000111111111124444422111111000111211111211111111211100011142111111110000000000000",
	"000000112221100000000001111111000111111000011111101111111111111111000011111111111000011111000011111111100000000000000000",
	"000000111111000000000000000000000000000000000000000111111111100000000001110001100000000111000001111110000000000000000000",
	"000000011111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
	"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
}
end

function _update()
	t=t+1 -- increment the clock
end

function _draw()
	cls() -- clear the screen
	draw_encoded(4, 30, test) -- draw the test image
end
